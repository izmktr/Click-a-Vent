# Click-a-Vent

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Chrome Extension](https://img.shields.io/badge/Chrome-Extension-green.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)

Webページ上のイベント情報を簡単にGoogleカレンダーに追加できるChrome拡張機能です。

## 📖 概要

Click-a-Ventは、Webページに掲載されているセミナー、コンサート、会議などのイベント情報を、わずか数クリックでGoogleカレンダーに登録できる便利な拡張機能です。

## ✨ 主な機能

### 🖱️ クリックで情報取得
ページ内の要素をクリックするだけで、イベント名や日時、場所などの情報を自動的に入力します。

### 🤖 自動抽出機能
よく使うWebサイトは、自動で情報を取得するよう設定できます。一度設定すれば、次回からポップアップを開くだけで情報が自動入力されます。

### 📝 柔軟な日時フォーマット
「2024年12月25日」「12/25」「2024.12.25」など、様々な日付・時刻形式に対応。独自フォーマットも簡単に追加できます。

### ⏱️ カスタマイズ可能な期間ボタン
イベントの期間を「30分」「1時間」「2時間」などのボタンで簡単設定。よく使う期間を自分でカスタマイズできます。

### 📋 履歴機能
過去に登録したイベント情報を最大30件まで履歴として保存。自動抽出の設定を作成する際に活用できます。

### 🔗 URL自動記録
イベント登録時に、元のWebページのURLを自動的にカレンダーの説明欄に追加します。後から情報源を確認したい時に便利です。

## 🚀 インストール方法

### Chrome Web Storeからインストール（公開後）
1. [Chrome Web Store](#)（リンク準備中）にアクセス
2. 「Chromeに追加」ボタンをクリック
3. 確認ダイアログで「拡張機能を追加」をクリック

### 開発者モードでインストール（ローカル）
1. このリポジトリをクローンまたはダウンロード
```bash
git clone https://github.com/izmktr/Click-a-Vent.git
```

2. Chrome で `chrome://extensions/` を開く

3. 右上の「デベロッパーモード」を有効化

4. 「パッケージ化されていない拡張機能を読み込む」をクリック

5. ダウンロードした `Extension` フォルダを選択

## 📘 使い方

### 基本的な使い方

#### ステップ1: 拡張機能を起動
イベント情報が掲載されているWebページで、ツールバーのClick-a-Ventアイコンをクリックします。

#### ステップ2: 情報を入力
「ページから情報を入力」ボタンをクリックし、ページ内の以下の要素を順番にクリックします：
1. イベント名（タイトル）
2. 日付と開始時刻
3. 場所（オプション）

💡 **ヒント:** 右クリックで項目をスキップできます。必要な情報だけを選択しましょう。

#### ステップ3: 期間を設定
イベントの期間（終了時刻までの時間）を選択します。「30分」「1時間」などのボタンから選ぶか、「2h30m」のような形式でカスタム入力できます。

#### ステップ4: カレンダーに登録
内容を確認して「登録」ボタンをクリック。Googleカレンダーが開き、イベントが追加されます。

⚠️ **注意:** Googleカレンダーにイベントを追加するには、ブラウザでGoogleアカウントにログインしている必要があります。

### 自動抽出機能の使い方

よく使うWebサイトで、毎回同じ手順で情報を入力する場合、自動抽出機能を使うと次回から自動的に情報が入力されます。

1. **手動で情報を入力**: 最初は「ページから情報を入力」ボタンを使って、通常通り情報を選択します。

2. **自動抽出の保存確認**: 情報の入力が完了すると、ポップアップ画面のヘッダーに通知アイコン（🔔）が表示されます。

3. **設定を保存**: 通知アイコンをクリックし、「この設定を保存」を選択します。現在のWebページのURLパターンと、選択した要素の位置が保存されます。

4. **次回からの自動入力**: 同じWebサイトで拡張機能を開くと、自動的に情報が入力されます。通知アイコンから「自動抽出を削除」も選択できます。

## ⚙️ 設定

拡張機能のポップアップ画面右上の歯車アイコン、または設定画面右上のヘルプアイコンから設定画面にアクセスできます。

### 自動抽出設定
自動で情報を取得するWebサイトのURLパターンとXPathを管理します。

### 日付設定
日付フォーマットのカスタマイズが可能です。デフォルトで以下のフォーマットに対応：
- `%Y年%M月%D日`
- `%M月%D日`
- `%M/%D`

### 時刻設定
時刻フォーマットのカスタマイズが可能です。デフォルトで以下のフォーマットに対応：
- `%H:%M`
- `%H：%M`（全角コロン）
- `%H時%M分`
- `%H時`

### 期間ボタン設定
ポップアップに表示される期間ボタンをカスタマイズできます。ボタン名、期間の値、デフォルト設定、表示順序を自由に変更可能です。

### 履歴
過去30件の登録履歴を確認できます。履歴から自動抽出設定を作成することもできます。

## 🔒 プライバシーとセキュリティ

Click-a-Ventは以下の権限のみを使用します：

- **アクティブなタブ**: 現在のページから情報を取得するため
- **ストレージ**: 設定と履歴を保存するため
- **スクリプト実行**: ページ内の要素を選択可能にするため

### データの保存について
- 設定データはChromeの同期ストレージに保存され、Chromeの同期機能を有効にしている場合はGoogleアカウント経由で同期されます
- 履歴データはローカルストレージに保存され、デバイス固有です
- **この拡張機能が独自の外部サーバーにデータを送信することはありません**
- Googleカレンダーへのイベント追加は、ブラウザの標準URLスキームを使用して行われます

## 🤝 コントリビューション

バグ報告や機能リクエストは、[Issues](https://github.com/izmktr/Click-a-Vent/issues)セクションでお知らせください。

プルリクエストも歓迎します！

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🙋 よくある質問

### Q: 日付が正しく認識されない
A: 設定画面の「日付設定」タブで、該当するフォーマットを追加できます。`%Y`（年）、`%M`（月）、`%D`（日）を使って独自のフォーマットを定義してください。

### Q: 自動抽出を使いたい
A: 一度手動で情報を入力した後、ポップアップの通知アイコンから「この設定を保存」を選択します。次回から同じサイトでは自動的に情報が入力されます。

### Q: 登録したイベントを修正したい
A: 登録後、Googleカレンダーが開きます。そこで詳細を編集・修正してください。この拡張機能は登録のみをサポートしています。

### Q: 拡張機能が動作しない
A: 以下をお試しください：
- ページを再読み込みする
- 拡張機能を再インストールする
- ブラウザでGoogleカレンダーにアクセスできることを確認する

## 🔗 リンク

- [Chrome Web Store](#)（準備中）
- [GitHub Repository](https://github.com/izmktr/Click-a-Vent)
- [Issue Tracker](https://github.com/izmktr/Click-a-Vent/issues)

---

Made with ❤️ by [izmktr](https://github.com/izmktr)
